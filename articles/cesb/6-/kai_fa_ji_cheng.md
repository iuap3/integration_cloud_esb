# 开发集成项目

## 集成项目库视图

集成项目库视图用于开发管理集成项目。视图以集成项目做为基本单元显示。工作区中导入的集成项目都会在此视图中展示。所有在集成项目库视图中出现的项目在Package Explorer视图中一定存在。在此视图中集成项目以另一种视角呈现了项目结构，每个集成项目单元带有8种资源父结点，每种资源父结点下带有特定类型的资源（除了META-INF和其他）。

在此视图中对于每个集成项目可方便管理创建各种EIP资源。视图结构如下： 

![](/assets/6-/image26.png)

### Java

java代码会默认建在src下。生成Java文件后缀.java。

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示： 

![](/assets/6-/image27.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。 

![](/assets/6-/image28.png)


Ø 属性

工程类和资源类结点可以查看属性 

### 服务

EIP资源默认会建在resource源代码包下。

生成服务后缀为.api。

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示：

![](/assets/6-/image29.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。

![](/assets/6-/image28.png)

Ø 加入服务仓库

只对满足服务(@Service)或实体(@Entity)资源条件的文件（支持目录群加入）有效，此功能就是将选中实体或服务加入服务仓库。

Ø 属性

工程类和资源类结点可以查看属性

Ø 同步EIP资源

如果选中的结点为集成项目时，会从默认代理对应的数据库中将选中的集成项目中发布过的EIP资源同步到本地。如果选中的结点为EIP资源结点（组件结点除外）时，会将此结点对应的资源同步到本地。



### 实体

EIP资源默认会建在resource源代码包下。
生成实体后缀为.schema。

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示：

![](/assets/6-/image30.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。

![](/assets/6-/image28.png)

Ø 生成JAVA文件

只有实体结点可见。会生成服务Interface以及java绑定所需要的类。

Ø 属性

工程类和资源类结点可以查看属性。

Ø 同步EIP资源

如果选中的结点为集成项目时，会从默认代理对应的数据库中将选中的集成项目中发布过的EIP资源同步到本地。如果选中的结点为EIP资源结点（组件结点除外）时，会将此结点对应的资源同步到本地。



### 交换规则

EIP资源默认会建在resource源代码包下。
生成交换规则后缀为.rule。

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示：

![](/assets/6-/image31.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。

![](/assets/6-/image28.png)

Ø 属性

工程类和资源类结点可以查看属性

Ø 同步EIP资源

如果选中的结点为集成项目时，会从默认代理对应的数据库中将选中的集成项目中发布过的EIP资源同步到本地。如果选中的结点为EIP资源结点（组件结点除外）时，会将此结点对应的资源同步到本地。



### 简单对照

EIP资源默认会建在resource源代码包下。
生成简单对照后缀为.map。

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示：

![](/assets/6-/image32.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。

![](/assets/6-/image28.png)

Ø 属性

工程类和资源类结点可以查看属性

Ø 同步EIP资源

如果选中的结点为集成项目时，会从默认代理对应的数据库中将选中的集成项目中发布过的EIP资源同步到本地。如果选中的结点为EIP资源结点（组件结点除外）时，会将此结点对应的资源同步到本地。



### 流程

EIP资源默认会建在resource源代码包下。

流程后缀为.flw，子流程后缀为.sflw。子流程应用在流程中。

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示：

![](/assets/6-/image33.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。

![](/assets/6-/image28.png)

Ø 属性

工程类和资源类结点可以查看属性

Ø 同步EIP资源

如果选中的结点为集成项目时，会从默认代理对应的数据库中将选中的集成项目中发布过的EIP资源同步到本地。如果选中的结点为EIP资源结点（组件结点除外）时，会将此结点对应的资源同步到本地。

### META-INF

META-INF所带的结点是对应在Package Explorer视图下所看到的META-INF文件夹下所带的内容，显示方式也一致。

生成文件后缀为.MF。

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示：

![](/assets/6-/image34.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。



### 其它

Ø 新建

单击右键，弹出新建资源结点的菜单。选择创建不同的资源结点，会弹出一个新建实现此资源的编辑窗口。如下图所示：

![](/assets/6-/image35.png)

Ø 删除

所有的工程结点、资源结点和空目录都支持删除。

Ø 复制名称

所有的结点都可以复制名称

Ø 刷新

在没有配置ESB Home时，点刷新会弹出对话框让其配置ESB Home路径。只有配置好后，结点才可以正常显示。在配置好ESB Home的情况下，刷新操作类同于Package Explorer下的刷新功能。

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。


### 部署

光标移至集成项目，单击右键，弹出菜单，如下所示：

![](/assets/6-/image36.png)


Ø 部署集成项目

部署集成项目到default agent下的指定ESB Server。

会弹出选择默认代理下存在的Server选择对话框，选择了Server后（支持多选），将集成项目部署到选择Serve的 ESB Home/deploy/plugins下。

Ø 反部署集成项目

删除default agent下的指定ESB Server下的相应集成项目。

对应于部署集成项目的反向操作，会弹出选择默认代理下存在的Server选择对话框，选择了Server后（支持多选），会删除选择Server下原来部署的jar包。



### 发布

光标移至集成项目，单击右键，弹出菜单，如下所示：

![](/assets/6-/image37.png)

Ø 发布集成项目

发布集成项目发布到默认代理对应的数据库。

Ø 反发布集成项目

将发布过的集成项目从默认代理的数据库中删除。使用中可能会有各种原因，导致“反发布集成项目”失败：

<table>

 <tr>

 <td>原因</td>

 <td>提示</td>

 </tr>

 <tr>

 <td>代理未启动或代理连接信息不正确</td>

 <td>代理未启动或代理连接信息不正确，请检查代理启动情况</td>

 </tr>

 <tr>

 <td>用户权限不通过，用户名或密码不正确</td>

 <td>用户权限不通过，用户名或密码不正确</td>

 </tr>

 <tr>

 <td>集成项目中有组件被其他组件引用</td>

 <td>提示组件具体被那些组件引用</td>

 </tr>

 <tr>

 <td>集成项目已部署到其它机器上</td>

 <td>提示集成项目已部署到具体机器上</td>

 </tr>

</table>






Ø 发布

可将相应资源发布到指定的Agent，此菜单中存在的二级菜单，分别对应前面介绍的发布集成项目、反发布集成项目。不同的地方在于，在这里可以选择对应的代理，而在前面一级菜单中的都是对应的默认代理。如上图所示。





### 导出产品包

光标移至集成项目，单击右键，弹出菜单，如下所示：

![](/assets/6-/image38.png)



Ø 导出产品包

导出项目的产品包，是为了在生产环境下将组件和资源部署到服务器上，并且可以执行指定的数据库脚本。

### 导入集成项目

光标移至集成项目，单击右键，弹出菜单，如下所示：

![](/assets/6-/image39.png)

Ø 导入集成项目

导入存在的集成项目，可以选择两种方式，一种是jar的方式，一个是目录的方式。

### 工具栏菜单

![](/assets/6-/image40.png)


1 收缩全部

收缩当前所有的结点。

2 同步编辑器

树上的选中结点与当前打开编辑的资源保持一致（类似于Package Explorer中的同步编辑器功能）。

3 树级目录显示

在此结点选中后目录会以树级结构显示（默认是以平级显示）。

4 不显示关闭的集成项目

选中后，将不显示关闭的集成项目。

5 显示别名

显示集成项目的别名（集成项目在新建时有项目名称和别名的设置，默认别名为项目名，也可以通过选中项目，右键->属性->eipproject设置别名）。

## 服务仓库视图

服务仓库视图主要用于开发管理服务及实体。通过此视图可以将服务（实体）发布到数据库，同时也可以将数据库的服务（实体）同步到本地。可以理解成是服务（实体）在数据库和本地之间的桥梁。（注意，在服务仓库视图里只显示服务，引用实体随着服务的发布而发布，随着服务的同步而同步）视图结构如下图所示：

![](/assets/6-/image41.png)

1 同步服务

点击工具栏中的“同步服务”菜单，这时会弹出模块的参照对话框（根据模块选服务。选择模块后，如果此模块中有服务仓库中不存在的服务或是不一致的服务，会弹出框列出这些选项。根选择不同的选项进行不同的操作。

2 同步模块

单击菜单栏中的“同步模块”菜单，在弹出的参照对话框会显示对应数据库中所存有的所有模块。选择要同步的模块会在本地服务仓库视图中生成，并且是同步状态。如果原来存在同名（全名= 父模块.子模块）的模块则会覆盖本地的模块。


