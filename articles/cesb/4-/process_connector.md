# 连接器

## HTTP

l 简介

l 配置

从右侧面板拖一个http节点到中央画布；

![](/assets/7/image89.png)

http请求配置：

![](/assets/7/image90.png)

连接配置：

 新建：新建一个连接配置

 修改：修改一个已经存在的http连接配置；



 API配置

 Api路径：为此节点选择一个api绑定文件；

 操作方法：选择api中的一个方法。

 添加方法：是否将操作方面名称添加到请求的url地址中。

 参数设置：

![](/assets/7/image91.png)

为这个方法的每个参数设置传输方式、和数据格式。

 传输方式：分为查询参数、表单、附件、流。

 数据格式：text/json/xml 同restapi的请求数据类型，object对象类型，将对象序列化后传输。

返回数据格式：同请求参数的数据格式。

请求类型配置：

请求类型：get/post，http的请求类型

l 使用

当流程进行到此节点时，就会根据配置的信息发送http请求。

## WebService

1 简介

WebService调用节点，调用第三方发布的WebService。

2 配置

从右侧面板拖一个WebService节点到中央画布；

![](/assets/7/image92.png)

WebService通用配置：

![](/assets/7/image93.png)

服务文件路径：为此节点选择一个api绑定文件；

 选择操作：选择api中的一个方法；

Spring-ws实现：是否为Spring实现的WebService；

调用方式：支持Interface调用方式；

传输协议：支持http传输协议；

连接配置

 新建：新建一个连接配置

 修改：修改一个已经存在的http连接配置；



类型转换配置：

![](/assets/7/image94.png)

设置时间和布尔两种特殊类型在流程中的格式。



3 使用

当流程进行到此节点时，就会根据配置的信息发送WebService请求。

## U8

l 简介

U8业务连接器

l 配置

从右侧面板拖一个U8节点到，中央画布

![](/assets/7/image95.png)

**U8设置**

![](/assets/7/image96.png)

连接配置：选择已配置的U8配置，或者添加新的U8配置，或修改已有连接配置信息。

账号信息：U8的to_account账号。

操作方法：选择流程运行到这个节点时，调用的U8端方法。

对应的API名称：操作方法对应的API名称，需要点击下载按钮，从远程下载到当前工程。

**事务设置**

![](/assets/7/image97.png)

事务类型：选择事务类型：不支持事务、加入事务、新启事务、支持事务

事务回滚类：如果事务类型是加入事务或新启事务或支持事务，需要增加事务回滚类。



**U8连接配置**：主要设置访问U8时需要的账号信息，包括FromAccount，Appkey，Appsecret等。

配置完后，点击“测试连接”按钮，检测是否连接通过。如下图


![](/assets/7/image98.png)




l 使用

当流程进行到此节点时，就会根据配置的信息向U8发送请求。



## NC

l 简介

l 配置

从右侧面板拖一个NC节点到，中央画布

![](/assets/7/image99.png)

请求配置

![](/assets/7/image100.png)


选择服务接口：点击选择服务接口后面的放大镜，选择一个本地api文件绑定到这个这个节点。

服务版本号：即这个服务的版本（选择服务后自动带出服务版本号）

选择操作：选择流程运行到这个节点时，调用的NC端方法。

NC参数列表设置：配置方法的参数。

返回参数数据格式：返回值的数据格式，基本类型用（Text）,复杂类型使用（JSON）

交换规则文件：为这个节点设置一个交换规则文件。

IP地址：NC运行主机IP

http端口：NC运行主机的端口

账套编码：NC的账套编码

模块名：这个服务所在的NC的模块。

其余配置同http的tls/ssl证书配置。

l 使用

当流程进行到此节点时，就会根据配置的信息向NC发送请求。

## NC+

l 简介

NC+业务连接器

l 配置

从右侧面板拖一个NC+节点到，中央画布

![](/assets/7/image101.png)

**NC+设置**

![](/assets/7/image102.png)

连接配置：选择已配置的NC+配置，或者添加新的NC+配置，或修改已有连接配置信息。

操作方法：选择流程运行到这个节点时，调用的NC+端方法。

调用模式：选择安全模式或透明模式。

对应的API名称：操作方法对应的API名称。

**事务设置**

![](/assets/7/image103.png)

事务类型：选择事务类型：不支持事务、加入事务、新启事务、支持事务

事务回滚类：如果事务类型是加入事务或新启事务或支持事务，需要增加事务回滚类。



**NC+连接配置**：主要设置访问NC+时需要的账号信息，包括项目名称，数据源，UserCode，密码。

配置完后，点击“测试连接”按钮，检测是否连接通过。如下图



![](/assets/7/image104.png)



l 使用

当流程进行到此节点时，就会根据配置的信息向NC+发送请求。





## JMS

l 简介

l 配置

从右侧连接器面板下拖一个jms节点到中央画布；

Ø Jms基础配置

![](/assets/7/image105.png)


Ø Api设置

![](/assets/7/image106.png)

api设置：为这个节点绑定一个api接口文件

 操作方法：选择一个操作方法

 参数设置：根据参数的设置信息，封装发送的JMS的消息头和消息体以及传输格式

 返回值设置：设置这个方法的返回数据格式，同http的返回值设置。

l 使用

当流程进行到此节点时，就会根据配置的信息向消息队列中发送一条消息。

## JD

l 简介

JD业务连接器，调用京东平台发布的API。

l 配置

从右侧面板拖一个JD节点到中央画布。

![](/assets/7/image107.png)

**JD设置**

![](/assets/7/image108.png)

连接配置：选择已配置的JD配置，或者添加新的JD配置，或修改已有连接配置信息。

操作方法：选择流程运行到这个节点时，调用的对应的京东API端方法。

对应的API名称：操作方法对应的API名称，需要点击下载按钮，从远程下载到当前工程。

**JD连接配置**

主要设置访问JD时需要的账号信息，包括token，Appkey，Appsecret等，如下图

![](/assets/7/image109.png)



**事务设置**

![](/assets/7/image110.png)



事务类型：选择事务类型：不支持事务、加入事务、新启事务、支持事务

事务回滚类：如果事务类型是加入事务或新启事务或支持事务，需要增加事务回滚类。



**类型转换设置**

具体详情配置请参考前面的节点，如WebService调用节点。



l 使用

当流程进行到此节点时，就会根据配置的信息向JD发送请求。

## 1688

l 简介

1688业务连接器

l 配置

从右侧面板拖一个1688节点到，中央画布

![](/assets/7/image111.png)

**1688设置**

![](/assets/7/image112.png)

连接配置：选择已配置的1688配置，或者添加新的1688配置，或修改已有连接配置信息。

操作方法：选择流程运行到这个节点时，调用的1688端方法。

对应的API名称：操作方法对应的API名称。

**事务设置**

![](/assets/7/image113.png)

事务类型：选择事务类型：不支持事务、加入事务、新启事务、支持事务

事务回滚类：如果事务类型是加入事务或新启事务或支持事务，需要增加事务回滚类。



**1688连接配置**：主要设置访问1688时需要的账号信息，包括Appkey，Appsecret等。如下图

![](/assets/7/image114.png)





l 使用

当流程进行到此节点时，就会根据配置的信息向1688发送请求。



## AMQP

l 简介

使用AMQP消息服务器，发送消息

l 配置

从右侧面板拖一个AMQP节点到，中央画布

![](/assets/7/image115.png)

**AMQP设置**

![](/assets/7/image116.png)

交互模式：one-way：只接收消息，处理完成后不响应消息。

request-response：请求响应模式，接收消息并处理完成后，须向发送消息目的地发送响应消息。

连接配置：选择一个ampq连接数据源。

交换器类型：选择Amqp交换器类型。Direct:点对点交换器，fanout:广播交换器，topic：订阅交换器

交换器名称：交换器的名称

发送消息目的地：发送消息的ampq队列名称

接收消息目的地：接受消息的ampq队列名称

超时：仅适用于请求响应模式：接收消息时的最长等待时间。

**事务设置**

![](/assets/7/image117.png)

事务类型：选择事务类型：不支持事务、加入事务、新启事务、支持事务

事务回滚类：如果事务类型是加入事务或新启事务或支持事务，需要增加事务回滚类。



**API配置**

![](/assets/7/image118.png)



Api路径：为这个节点绑定一个api接口文件

 操作方法：选择一个操作方法

 参数设置：根据参数的设置信息，封装发送的AMQP的消息头和消息体以及传输格式

 返回值设置：设置这个方法的返回数据格式，同http的返回值设置。



l 使用

当流程进行到此节点时，就会根据配置的信息向消息队列中发送一条消息。 

